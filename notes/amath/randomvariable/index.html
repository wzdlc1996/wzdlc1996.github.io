<!DOCTYPE html>
<html lang="zh_Hans">
  <head>
  <meta charset="utf-8">
  <meta name="google-site-verification" content="r64AlTCOZzKlMSpDsUj76TvI5OGOmE_h2kRn11UtSYk" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1" />
  <meta name="author" content="Leonard">
  <meta name="description" content="This is an introduction to Probability Theory. Include the definition of Probability Space and Random Variables. Conditional Expectation and How to generate random numbers. Read this would be helpful for understanding further probability theory even Measure theory in the future">

  <meta property="og:title" content="Random Variable" />
<meta property="og:description" content="This is an introduction to Probability Theory. Include the definition of Probability Space and Random Variables. Conditional Expectation and How to generate random numbers. Read this would be helpful for understanding further probability theory even Measure theory in the future" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wzdlc1996.github.io/notes/amath/randomvariable/" />
<meta property="article:published_time" content="2019-10-29T11:36:42+08:00" />
<meta property="article:modified_time" content="2019-10-29T11:36:42+08:00" />



  <title>
  
       Random Variable | Leonard 
  
  </title>

  <link rel="canonical" href="https://wzdlc1996.github.io/notes/amath/randomvariable/">

  
  

  
  <link href="https://wzdlc1996.github.io/css/vendors-extensions/fontawesome/all.min.css" rel="stylesheet">

  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:300,400,500,600">
  <link href="https://wzdlc1996.github.io/css/font.css" rel="stylesheet">

  
  
  <link href="https://wzdlc1996.github.io/css/vendors-extensions/mdb/mdb.min.css" rel="stylesheet">
  <link href="https://wzdlc1996.github.io/css/vendors/mdb/style.min.css" rel="stylesheet">
  <link href="https://wzdlc1996.github.io/css/main.css" rel="stylesheet">


  
  <link rel="shortcut icon"
  
      href="https://wzdlc1996.github.io/img/cat.png"
  
  >


  
  
  
  

  <style type="text/css">
      @media (min-width: 800px) and (max-width: 850px) {
              .navbar:not(.top-nav-collapse) {
                  background: #1C2331!important;
              }
          }
  </style>


  
  
  

  
  
    <link rel="stylesheet" href="https://wzdlc1996.github.io/css/vendors/highlight/github-gist.css">
  

  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="https://wzdlc1996.github.io/css/search.css" />




<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<script type="text/x-mathjax-config">
      MathJax.Hub.Config(
      {
          tex2jax: {
          inlineMath: [['$','$'],['\\(','\\)']],
          displayMath: [['$$','$$']],
          processEscapes: true,
          processEnvironments: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
        },
          TeX: {
            extensions: ["autobold.js"],
            Macros:{
               bm: ["{\\boldsymbol #1}",1],
               flo: ["\\overset {\\cdot} {#1}",1],
               td: ["\\text{d}"],
               ti: ["\\text{i}"],
               bra: ["{\\langle #1 |}",1],
               ket: ["{| #1 \\rangle}",1],
               degree: ["{^\{\\circ\}}",0],
               indent:["\\ \\ \\ \\",0],
               rhat: ["\\overset {\\rightarrow} {#1}",1],
               lhat: ["\\overset {\\leftarrow} {#1}",1],
               lrhat: ["\\overset {\\leftrightarrow} {#1}",1]}
            }
      });
  /*  MathJax.Hub.Queue(function() {
      // Fix <code> tags after MathJax finishes running. This is a
      // hack to overcome a shortcoming of Markdown. Discussion at
      // https://github.com/mojombo/jekyll/issues/199
      var all = MathJax.Hub.getAllJax();
      for(i = 0; i &lt; all.length; i += 1){
          all[i].SourceElement().parentNode.className += 'has-jax';
      }}
  );*/
</script>




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-128644147-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-128644147-1');
</script>



</head>

  <body class="bg-light" data-spy="scroll" data-target="#page-scrollspy" data-offset="90">
  
    


    
      

<nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <div class="container">
      
      <a class="navbar-brand" href="https://wzdlc1996.github.io">
          
        <img class="avatar" src="https://wzdlc1996.github.io/img/cat.png" style="width: 40px!important;height: auto;"  class="d-inline-block align-top" alt="" >
        
        <strong> Leonard</strong>
      </a>

      
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      
      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        
        <ul class="navbar-nav mr-auto ">
          <li class="nav-item ">
            <a class="nav-link" href="https://wzdlc1996.github.io">Home</a>
          </li>
          
            <li class="nav-item ">
              <a class="nav-link" href="https://wzdlc1996.github.io/artic/" >Articles  </a>
            </li>

          
            <li class="nav-item ">
              <a class="nav-link" href="https://wzdlc1996.github.io/notes/" >Notes  </a>
            </li>

          
        </ul>
      </div>
      <a data-toggle="modal" data-target="#modalSearch" style="outline: none;">
        <svg class="aa-input-butn" viewBox="654 -372 1664 1664">
        <path d="M1806,332c0-123.3-43.8-228.8-131.5-316.5C1586.8-72.2,1481.3-116,1358-116s-228.8,43.8-316.5,131.5  C953.8,103.2,910,208.7,910,332s43.8,228.8,131.5,316.5C1129.2,736.2,1234.7,780,1358,780s228.8-43.8,316.5-131.5  C1762.2,560.8,1806,455.3,1806,332z M2318,1164c0,34.7-12.7,64.7-38,90s-55.3,38-90,38c-36,0-66-12.7-90-38l-343-342  c-119.3,82.7-252.3,124-399,124c-95.3,0-186.5-18.5-273.5-55.5s-162-87-225-150s-113-138-150-225S654,427.3,654,332  s18.5-186.5,55.5-273.5s87-162,150-225s138-113,225-150S1262.7-372,1358-372s186.5,18.5,273.5,55.5s162,87,225,150s113,138,150,225  S2062,236.7,2062,332c0,146.7-41.3,279.7-124,399l343,343C2305.7,1098.7,2318,1128.7,2318,1164z" />
        </svg>
      </a>
    </div>




  </nav>

  
  <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Search</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="aa-input-container" id="aa-input-container">
    <input type="search" id="aa-search-input" class="aa-input-search" placeholder="Search for titles or URIs..." name="search" autocomplete="off" />
    
    <svg xmlns="http://www.w3.org/2000/svg" class="aa-input-icon" width="120" height="16">
      <g fill="none" fill-rule="evenodd">
        <path fill="#848AB8" fill-rule="nonzero" d="M4.202 10.434c-.497.378-1.18.564-2.057.564-.873 0-1.588-.13-2.145-.39V9.46c.352.159.728.283 1.122.375.398.092.768.137 1.109.137.5 0 .869-.09 1.107-.274a.883.883 0 0 0 .356-.735.901.901 0 0 0-.328-.706c-.219-.193-.67-.421-1.353-.685-.705-.274-1.201-.586-1.49-.94-.29-.35-.435-.774-.435-1.267 0-.62.229-1.106.688-1.462.457-.356 1.073-.534 1.844-.534.74 0 1.476.155 2.21.467l-.401.988c-.687-.276-1.3-.415-1.84-.415-.408 0-.72.085-.93.255a.83.83 0 0 0-.318.678c0 .193.044.36.128.495.085.137.225.267.419.388.193.123.54.283 1.046.482.568.226.984.439 1.248.635.263.196.457.417.58.665.124.245.185.538.185.873 0 .661-.248 1.179-.745 1.554zm2.53-.201c-.512-.509-.768-1.21-.768-2.102 0-.917.236-1.638.712-2.162.477-.525 1.13-.787 1.962-.787.772 0 1.382.225 1.83.675.447.45.67 1.068.67 1.857v.644H7.242c.017.545.17.964.46 1.257.288.293.696.438 1.22.438a4.6 4.6 0 0 0 .965-.094c.298-.062.618-.166.96-.312v.97c-.305.138-.61.237-.921.293a5.77 5.77 0 0 1-1.063.087c-.908.001-1.62-.254-2.132-.764zm.956-3.787c-.238.24-.38.59-.426 1.049h2.653c-.007-.463-.123-.813-.348-1.052-.227-.239-.537-.359-.932-.359-.393 0-.709.12-.947.362zm8.269 3.669h-.043c-.282.342-.565.574-.85.697-.286.125-.653.186-1.1.186-.575 0-1.024-.148-1.345-.446-.322-.297-.483-.718-.483-1.264 0-.578.224-1.015.67-1.309.448-.294 1.131-.455 2.047-.482l1.01-.03v-.301c0-.36-.09-.627-.262-.803-.175-.18-.445-.268-.812-.268-.3 0-.587.042-.861.126-.276.085-.54.184-.794.3l-.401-.853c.317-.16.664-.28 1.041-.363a4.968 4.968 0 0 1 1.068-.124c.743 0 1.304.156 1.683.466.379.312.568.8.568 1.468v3.78h-.888l-.248-.78zm-.515-.393c.272-.242.409-.581.409-1.018v-.488l-.751.03c-.585.022-1.01.114-1.277.282-.266.168-.398.425-.398.77 0 .25.076.443.232.58.155.137.388.206.699.206.451 0 .813-.12 1.086-.362zm6.97-4.49l-.122 1.112c-.177-.04-.36-.06-.551-.06-.495 0-.899.154-1.207.466-.307.312-.462.715-.462 1.213v2.933h-1.24V5.284h.97l.165.989h.063c.194-.335.447-.601.758-.797.313-.196.65-.294 1.008-.294.249 0 .455.017.619.05zm1.423 5.023c-.459-.496-.69-1.207-.69-2.134 0-.945.242-1.67.722-2.177.483-.507 1.176-.761 2.087-.761.616 0 1.17.11 1.663.33l-.374.958c-.526-.195-.959-.293-1.301-.293-1.01 0-1.516.643-1.516 1.933 0 .63.125 1.103.377 1.419.253.316.622.475 1.108.475a3.27 3.27 0 0 0 1.57-.397v1.041c-.22.125-.458.215-.709.269a4.28 4.28 0 0 1-.918.082c-.887-.003-1.559-.25-2.02-.745zm8.916.641v-3.45c0-.435-.09-.756-.271-.97-.183-.213-.47-.321-.865-.321-.521 0-.905.151-1.151.45-.243.3-.366.8-.366 1.503v2.788h-1.242V3h1.242v2.003c0 .321-.02.666-.063 1.03h.079c.169-.27.403-.48.705-.628a2.362 2.362 0 0 1 1.055-.223c1.417 0 2.126.685 2.126 2.055v3.66h-1.249z"/>
        <path fill="#848AB8" d="M42.828 6.115c.418.537.628 1.29.628 2.26 0 .974-.213 1.732-.637 2.275-.425.542-1.012.813-1.768.813-.76 0-1.352-.27-1.773-.81h-.087l-.233.703H38V3h1.278v1.987c0 .147-.007.365-.022.655-.014.29-.025.475-.032.553h.054c.405-.59 1.005-.886 1.795-.886.75 0 1.336.27 1.755.806zm-3.201.674c-.225.3-.343.8-.35 1.5v.087c0 .721.117 1.245.349 1.57.233.323.61.485 1.136.485.454 0 .797-.177 1.031-.532.233-.354.352-.866.352-1.535 0-1.35-.466-2.025-1.403-2.025-.518 0-.887.15-1.115.45zm5.792-1.372l1.223 3.366c.186.48.31.93.37 1.354h.044c.034-.196.094-.435.18-.716.088-.28.548-1.615 1.382-4.003H50l-2.573 6.73C46.96 13.381 46.18 14 45.087 14a3.66 3.66 0 0 1-.826-.092v-.998c.192.043.411.065.658.065.618 0 1.05-.353 1.3-1.058l.223-.56-2.415-5.94h1.392z"/>
        <path fill="#5468FF" fill-rule="nonzero" d="M70.306 0a1.87 1.87 0 0 1 1.865 1.872V12.35a1.87 1.87 0 0 1-1.865 1.872h-10.44A1.87 1.87 0 0 1 58 12.35V1.867C58 .837 58.834 0 59.866 0h10.44zM65.25 3.593a4.012 4.012 0 0 0-4.003 4.02 4.008 4.008 0 0 0 4.003 4.017 4.012 4.012 0 0 0 4.003-4.02 4.006 4.006 0 0 0-4.003-4.017zm0 6.85a2.827 2.827 0 0 1-2.82-2.83 2.827 2.827 0 0 1 2.82-2.829 2.827 2.827 0 0 1 2.82 2.83c0 1.561-1.26 2.83-2.82 2.83zm0-2.972c0 .06.064.103.12.074l1.867-.97c.042-.021.055-.074.033-.116a2.32 2.32 0 0 0-1.933-1.179c-.043 0-.086.035-.086.083l-.001 2.108zm-2.614-3.658l-.246-.245a.61.61 0 0 0-.868 0l-.292.293a.615.615 0 0 0 0 .87l.24.243c.04.04.095.03.13-.008a4.484 4.484 0 0 1 1.023-1.028c.043-.026.047-.087.013-.125zm3.925-1.126a.616.616 0 0 0-.615-.617h-1.432a.617.617 0 0 0-.614.617v.5c0 .056.052.096.107.082a4.5 4.5 0 0 1 2.451-.012.084.084 0 0 0 .104-.081l-.001-.489zm28.457 9.023c0 1.294-.33 2.238-.995 2.838-.664.6-1.68.9-3.047.9-.5 0-1.538-.097-2.368-.28l.305-1.502c.695.146 1.612.185 2.092.185.762 0 1.306-.155 1.63-.465.326-.311.485-.77.485-1.38v-.31a5.712 5.712 0 0 1-.742.28c-.305.092-.66.141-1.057.141-.523 0-1-.082-1.432-.247a2.99 2.99 0 0 1-1.11-.726 3.3 3.3 0 0 1-.718-1.202c-.17-.48-.257-1.336-.257-1.966 0-.59.092-1.33.271-1.824a3.51 3.51 0 0 1 .801-1.274 3.67 3.67 0 0 1 1.275-.824 4.688 4.688 0 0 1 1.723-.324c.616 0 1.183.078 1.736.169.554.093 1.024.19 1.408.296v7.516zm-5.274-3.738c0 .794.174 1.675.524 2.044.35.367.8.551 1.354.551.3 0 .587-.044.854-.124.265-.084.48-.18.65-.297V5.444a7.53 7.53 0 0 0-1.252-.16c-.689-.018-1.213.262-1.582.71-.363.452-.549 1.242-.549 1.978h.001zm14.278 0c0 .64-.092 1.123-.281 1.651a3.897 3.897 0 0 1-.8 1.351 3.534 3.534 0 0 1-1.242.867c-.485.203-1.233.32-1.605.32-.374-.006-1.116-.113-1.596-.32a3.626 3.626 0 0 1-1.238-.868 3.993 3.993 0 0 1-.806-1.35 4.477 4.477 0 0 1-.29-1.652c0-.64.086-1.254.281-1.778.195-.523.465-.969.815-1.342a3.646 3.646 0 0 1 1.242-.86 3.993 3.993 0 0 1 1.582-.301c.573 0 1.102.101 1.587.3.485.203.903.49 1.242.862.345.374.61.818.806 1.343.204.521.304 1.137.304 1.776h-.001zm-1.94.004c0-.818-.18-1.5-.53-1.973-.349-.48-.838-.719-1.465-.719-.625 0-1.116.238-1.465.718-.349.478-.519 1.155-.519 1.973 0 .83.175 1.387.523 1.867.35.483.841.72 1.467.72.625 0 1.116-.242 1.465-.72.349-.486.522-1.038.522-1.867l.002.001zm6.165 4.187c-3.11.013-3.11-2.51-3.11-2.912L105.134.3l1.896-.3v8.89c0 .23 0 1.672 1.218 1.677v1.596zm3.343 0h-1.906V3.984l1.907-.3v8.479zm-.956-9.372c.637 0 1.155-.514 1.155-1.148 0-.634-.513-1.147-1.155-1.147-.64 0-1.154.513-1.154 1.147s.52 1.148 1.155 1.148h-.001zm5.696.9c.626 0 1.155.078 1.582.232.428.156.77.373 1.024.649.253.277.432.655.539 1.052.111.396.165.833.165 1.312v4.871c-.29.064-.732.137-1.324.224-.591.087-1.256.13-1.993.13-.49 0-.942-.049-1.344-.141a2.833 2.833 0 0 1-1.043-.45 2.174 2.174 0 0 1-.675-.804c-.16-.329-.243-.794-.243-1.28 0-.464.092-.759.27-1.079.187-.32.433-.58.745-.784a3.163 3.163 0 0 1 1.085-.435 6.131 6.131 0 0 1 2.688.038v-.311c0-.217-.024-.425-.078-.619a1.335 1.335 0 0 0-.27-.517 1.263 1.263 0 0 0-.515-.349 2.25 2.25 0 0 0-.81-.146 7.05 7.05 0 0 0-1.2.116 5.662 5.662 0 0 0-.892.219l-.229-1.556a7.85 7.85 0 0 1 1.048-.245 8.239 8.239 0 0 1 1.47-.126zm.16 6.872c.583 0 1.014-.033 1.315-.092V8.544a3.627 3.627 0 0 0-.456-.093 4.605 4.605 0 0 0-.66-.048 4.07 4.07 0 0 0-.635.049 1.962 1.962 0 0 0-.577.168c-.169.084-.31.2-.412.35-.106.15-.155.237-.155.465 0 .447.155.702.436.873.287.174.665.257 1.146.257l-.002-.002zM79.029 3.74c.626 0 1.155.078 1.582.232.426.155.77.374 1.023.65.257.28.432.653.539 1.05.112.397.165.833.165 1.313v4.871c-.293.062-.733.136-1.324.222-.594.09-1.258.132-1.996.132-.49 0-.94-.048-1.344-.14a2.833 2.833 0 0 1-1.043-.45 2.183 2.183 0 0 1-.673-.806c-.161-.329-.244-.794-.244-1.278 0-.465.092-.76.272-1.08a2.3 2.3 0 0 1 .742-.784 3.165 3.165 0 0 1 1.087-.436 6.222 6.222 0 0 1 1.95-.091 5.9 5.9 0 0 1 .737.131v-.31c0-.218-.023-.427-.077-.62a1.324 1.324 0 0 0-.272-.518 1.28 1.28 0 0 0-.515-.349 2.25 2.25 0 0 0-.81-.145c-.436 0-.834.054-1.198.116a5.345 5.345 0 0 0-.892.218l-.228-1.555a7.667 7.667 0 0 1 1.048-.246 7.821 7.821 0 0 1 1.469-.127h.002zm.164 6.877c.583 0 1.015-.033 1.316-.092V8.597a3.683 3.683 0 0 0-.457-.093 4.615 4.615 0 0 0-.66-.048c-.21 0-.423.015-.638.049a1.92 1.92 0 0 0-.576.169c-.17.083-.31.199-.412.35-.107.15-.155.236-.155.464 0 .447.154.702.435.873.281.169.665.258 1.145.258l.002-.002zm7.69 1.547c-3.109.013-3.109-2.51-3.109-2.912L83.767.3l1.896-.3v8.89c0 .23 0 1.672 1.218 1.677v1.594l.002.003z"/>
      </g>
    </svg>
</div>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/algoliasearch.min.js"></script>
<script src="https://res.cloudinary.com/jimmysong/raw/upload/rootsongjc-hugo/autocomplete.min.js"></script>
<script>
var client = algoliasearch("CKGQ2NF14W", "47466714a15e4af509908b3be9a18065");
var index = client.initIndex('leonard-blog');
autocomplete('#aa-search-input',
{ hint: false}, {
    source: autocomplete.sources.hits(index, {hitsPerPage: 8}),
    displayKey: 'name',
    templates: {
        suggestion: function(suggestion) {
            console.log(suggestion);
            return '<span>' + '<a href="https://wzdlc1996.github.io/' + suggestion.uri.toLowerCase() + '/">' +
            suggestion._highlightResult.title.value + '</a></span>';
        }
    }
});
</script>

        </div>
      </div>
    </div>
  </div>
  

      







<div id="site-header" class="carousel slide carousel-fade" data-ride="carousel" style="height: 18rem;" >  

  
  
  

  
  <div class="carousel-inner" role="listbox">
    
      

        
        <div class="carousel-item active">
          <div class="view" style="background-image: url('https://wzdlc1996.github.io/img/header-slides/56562834_p0.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

              
              
              

            </div>
            

          </div>
        </div>
        
      
    
      

        
        <div class="carousel-item">
          <div class="view" style="background-image: url('https://wzdlc1996.github.io/img/header-slides//60104382_p0.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">



            </div>
            

          </div>
        </div>
        
      
    
      

        
        <div class="carousel-item">
          <div class="view" style="background-image: url('https://wzdlc1996.github.io/img/header-slides//63590923_p0.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">



            </div>
            

          </div>
        </div>
        
      
    
      

        
        <div class="carousel-item">
          <div class="view" style="background-image: url('https://wzdlc1996.github.io/img/header-slides//66977044_p0.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">



            </div>
            

          </div>
        </div>
        
      
    


  </div>
  

  
  <div class="carousel-content text-center white-text wow fadeIn">
    <div class="row mx-0 headfont mt-3 pt-4">
      
      <div class="col-12 col-sm-5 align-middle">
        <a href="https://wzdlc1996.github.io">
          
            <img class="pull-right avatar avatar-md" src="https://wzdlc1996.github.io/img/white_cat.png" alt="" >
          
        </a>
      </div>

      <div class="col-12 col-sm-7 text-left pl-2">
        <a href="https://wzdlc1996.github.io">
          <h1 class="mb-2 h1" style="font-weight: 300;" >
            <strong>Leonard</strong>
          </h1>
        </a>


        
        <div class="mt-2" style="font-size: 1rem; color: white;">
            
              <a href="http://github.com/wzdlc1996" target="_blank" rel="noopener"><i class="fab fa-github pr-1" aria-hidden="true"></i></a>
            
            

            

            

            

            

            


            
                <a href="mailto:wzdlc1996@gmail.com"><i class="far fa-envelope-open pr-1" aria-hidden="true"></i></a>
            

            


        </div>
      </div>
    </div>
  </div>
  

  
  
  

</div>



    

    
  
  <main class="post-main-wrapper">
    
    
    <div class="row">

      

      
      <div class="col-md-10">
      

        
        <div class="z-depth-1  post-wrapper white-bg single-post">

          <div class="post-header text-center" >
  <ul class="post-meta li-x">
    
      
        <li><a href="https://wzdlc1996.github.io/categories/mathematics"><i class="fas fa-folder-open pr-1" aria-hidden="true"></i> Mathematics </a></li>
      
    
    
      
        <li><a href="https://wzdlc1996.github.io/series/applied-mathematics"><i class="fas fa-bookmark pr-1" aria-hidden="true"></i>Applied-Mathematics</a></li>
      
    
  </ul>

  <div class="px-4 post-heading">Random Variable</div>

  <ul class="post-meta li-x mt-1">
    
      <li>Oct 29, 2019</li>
    

    
      <li class="middot"></li>
      <li>12 minutes read</li>
    
  </ul>
  

</div>


          <div class="post-content markdown">
            

<h1 id="random-variable">Random Variable</h1>

<h2 id="introduction-to-probability-theory">Introduction to Probability Theory</h2>

<h3 id="probability-space">Probability Space</h3>

<p><em>[Definition]</em> : A <code>Probability Space</code> is a triplet <code>$(\Omega, \mathcal{F},\mathbb{P})$</code> of three elements:</p>

<ol>
<li><code>$\Omega$</code> is a set (called <code>Sample Space</code>) .</li>
<li><code>$\mathcal{F}$</code> is a <code>Sigma Algebra</code> on <code>$\Omega$</code>. <code>$\mathcal{F}$</code> is a collection of subsets of <code>$\Omega$</code> and has the following properties:

<ul>
<li><code>$\Omega, \varnothing \in \mathcal{F}$</code></li>
<li><code>$A\in \mathcal{F} \Rightarrow A^c \equiv \Omega \setminus A \in \mathcal{F}$</code></li>
<li>A sequence of sets <code>$\{A_i\}_{i=1}^{\infty}$</code> in which <code>$A_i \in \mathcal{F}$</code>, then <code>$\bigcup_{j=1}^{\infty} A_j \in \mathcal{F}$</code></li>
</ul></li>
<li><code>$\mathbb{P}$</code> is a <code>Probability Measure</code>: <code>$\mathbb{P}: \mathcal{F}\rightarrow [0,1]$</code> and has the following properties:

<ul>
<li>(Normalization)<code>$\mathbb{P}(\Omega) = 1$</code></li>
<li>(Countably additive)<code>$A_1,A_2,\cdots \in \mathcal{F} \ , \ A_i\bigcap A_j=\varnothing \Rightarrow \mathbb{P}(\bigcup_{j=1}^{\infty} A_j) = \sum_{j=1}^{\infty} \mathbb{P}(A_j)$</code></li>
</ul></li>
</ol>

<p><em>[Definition]</em> : A <code>Measurable (real-valued) Function</code> on a <code>Measurable Space</code> <code>$(\Omega,\mathcal{F})$</code> is a function <code>$f:\Omega \rightarrow \mathbb{R}$</code>, which has the property:</p>

<div>$$\forall B \in \mathcal{B}(\mathbb{R}) \Rightarrow f^{-1}(B) = \{\omega\in\Omega : f(\omega) \in B\} \in \mathcal{F}$$</div>

<p>Where <code>$\mathcal{B}(\mathbb{R})$</code> is the <code>natural Borel sigma Algebra</code> on <code>$\mathbb{R}$</code>.</p>

<p><em>[Definition]</em> : A <code>Random Variable</code> is a measurable function on a Probability Space.</p>

<p><em>[Definition]</em> : The <code>Distribution</code> or <code>Law</code> of a random variable is a probability measure <code>$\mu$</code> on <code>$\mathbb{R}$</code> defined for any Borel set <code>$B\in \mathcal{B}(\mathbb{R})$</code> by:</p>

<div>$$\mu(B) = \mathbb{P}(X\in B)\equiv \mathbb{P}\{\omega \in \Omega : X(\omega) \in B\}$$</div>

<p><em>[Definition]</em> : The <code>Probability Density Function(pdf)</code> of a random variable is an integrable function <code>$p(x)$</code> on <code>$\mathbb{R}$</code> such that for any set <code>$B\in\mathcal{B}(\mathbb{R})$</code>:</p>

<div>$$\mu(B) = \int_B p(x)\td x$$</div>

<p><em>[Definition]</em> : The <code>Mean</code> or <code>Expectation</code> of a random variable is the <code>Lebesgue Integral</code> of it with respect to probability measure <code>$\mathbb{P}$</code> :</p>

<div>$$\mathbb{E} (X) = \int_{\Omega} X(\omega) \mathbb{P}(\td \omega)\equiv \int_{\Omega} X\td \mathbb{P}$$</div>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Notes
    </summary></p>

<p>Consider the simplest random variable, which is the linear combination of <code>characteristic function</code> of sum subsets of <code>$\Omega$</code> : <code>$I(\omega;A)=\begin{cases} 1 &amp; \omega\in A\\ 0 &amp; \omega \notin A\end{cases}$</code></p>

<div>$$X(\omega) = \sum_{i} x_i I(\omega;A_i)$$</div>

<p>So <code>$X(\omega)$</code> is <code>$x_i$</code> if <code>$\omega \in A_i$</code>. Here, <code>$x_i\geq 0$</code> is required, the reason will be shown below.</p>

<p>Then we define its expectation is:</p>

<div>$$\mathbb{E}(X) := \sum_i x_i \mathbb{P}(A_i)$$</div>

<p>For any other <strong>non-negative</strong> random variable <code>$X$</code>, we can always construct a sequence of such &ldquo;simple&rdquo; random variables <code>$X_n$</code> to &ldquo;get close to&rdquo; <code>$X$</code>, then we can define the expectation of <code>$X$</code> is the limit of expectations of this sequence:</p>

<div>$$\mathbb{E}(X) = \lim_{n\rightarrow \infty} \mathbb{E}(X_n)$$</div>

<p>The limit in r.h.s. is well-defined only when <code>$x_{i,n}$</code> s are nonnegative by <strong>Monotonous Convergence Theorem</strong> . In general cases, the function is not non-negative, one can always separates it into positive-part and negative-part and then deals them isolatedly and computes the difference between them at last.</p>

<p></details></p>

<p><em>[Definition]</em> : Two random variables <code>$X,Y$</code> are mutually <code>Independent</code>, if for all continuous functions <code>$f,g$</code> one has:</p>

<div>$$\mathbb{E}(f(X)g(Y)) = \mathbb{E}(f(X))\mathbb{E}(g(Y))$$</div>

<h3 id="notions-of-convergence">Notions of Convergence</h3>

<p>In this section, we denote the probability space is <code>$(\Omega, \mathcal{F},\mathbb{P})$</code> , and <code>$\{X_n\}$</code> is a sequence of random variables on it. <code>$\mu_n$</code> is the distribution of <code>$X_n$</code>, while <code>$X$</code> is another random variable with distribution <code>$\mu$</code> on the same probability space.</p>

<p><em>[Definition]</em> : <strong>Almost sure convergence</strong>: <code>$X_n$</code> converges to <code>$X$</code> <code>almost surely</code> as <code>$n\rightarrow \infty$</code> (denoted as <code>$X_n \rightarrow X , \text{a.s.}$</code>) if:</p>

<div>$$\mathbb{P}\big(\{\omega \in \Omega : \lim_{n\rightarrow \infty} X_n(\omega) = X(\omega)\}\big) = 1$$</div>

<p><em>[Definition]</em> : <strong>Convergence in probability</strong>: <code>$X_n$</code> converges to <code>$X$</code> <code>in probability</code> (denoted as <code>$X_n\rightarrow_p X$</code>) if for any <code>$\epsilon \gt 0$</code> :</p>

<div>$$\lim_{n\rightarrow \infty}\mathbb{P}\big(\{\omega \in \Omega : |X_n(\omega) - X(\omega)| \gt \epsilon\}\big)  = 0$$</div>

<p><em>[Definition]</em> : <strong>Convergence in distribution</strong>: <code>$X_n$</code> converges to <code>$X$</code> in distribution (denoted as <code>$X_n \rightarrow_d X$</code>) (i.e. <code>$\mu_n\rightarrow_d \mu$</code> , weak convergence), if for any bounded continuous function <code>$f$</code> :</p>

<div>$$\lim_{n\rightarrow \infty}\mathbb{E}(f(X_n)) = \mathbb{E}(f(X))$$</div>

<p><em>[Definition]</em> : <strong>Convergence in <code>$L^p$</code></strong>: If <code>$X_n, X\in L^p$</code>, i.e., they are <code>$p$</code>-th power integrable. and:</p>

<div>$$\lim_{n\rightarrow \infty}\mathbb{E}(|X_n-X|^p) = 0$$</div>

<p>If <code>$p=1$</code> , that is <code>convergence in mean</code>; if <code>$p=2$</code> that is <code>convergence in mean square</code>.</p>

<p><em>[Remark]</em> : These convergence have the following relations:</p>

<ol>
<li>If <strong>Almost sure converge</strong> ,then <strong>Converge in probability</strong></li>
<li>If <strong>Converge in probability</strong> and exists a subsequence is <strong>Almost sure</strong>, then the sequence <strong>Almost sure converge</strong></li>
<li>If <strong>Converge in probability</strong>, then <strong>Converge in distribution</strong></li>
<li>If <strong><code>$L^p$</code> converge</strong> for all <code>$p$</code> , then <strong>Converge in probability</strong></li>
</ol>

<h3 id="conditional-expectation">Conditional Expectation</h3>

<p><em>[Definition]</em> : For any random variable <code>$X$</code> on probability space <code>$(\Omega, \mathcal{F},\mathbb{P})$</code> with <code>$\mathbb{E}(|X|)\lt \infty$</code>, the <code>Conditional Expectation</code> of <code>$X$</code> given <code>$\mathcal{G}$</code>, (<code>$\mathcal{G}\subset \mathcal{F}$</code>) (denoted as <code>$\mathbb{E}(X|\mathcal{G})$</code>) is a random variable <code>$Z$</code>, defined as:</p>

<ol>
<li><code>$Z$</code> is a random variable which is measurable with respect to <code>$\mathcal{G}$</code></li>

<li><p>For any set <code>$A\in\mathcal{G}$</code> :</p>

<div>$$\int_A Z\td \mathbb{P} = \int_A X \td \mathbb{P}$$</div></li>
</ol>

<p><em>[Theorem]</em> : <strong>Properties of conditional expectation</strong> . Suppose <code>$X,Y$</code> are random variables on probability space <code>$(\Omega,\mathcal{F},\mathbb{P})$</code> , with <code>$\mathbb{E}(|X|),\mathbb{E}(|Y|)\lt \infty, a,b\in \mathbb{R}$</code> , and <code>$\mathcal{H}\subset \mathcal{G}\subset \mathcal{F}$</code> then (The following assertion is true in the sense of &ldquo;almost surely&rdquo;):</p>

<ol>
<li><code>$\mathbb{E}(aX+bY|\mathcal{G}) = a \mathbb{E}(X|\mathcal{G}) + b\mathbb{E}(Y|\mathcal{G})$</code></li>
<li><code>$\mathbb{E}(\mathbb{E}(X|\mathcal{G})) = \mathbb{E}(X)$</code></li>
<li><code>$X\text{ is }\mathcal{G}\text{-measurable } \Rightarrow\mathbb{E}(X|\mathcal{G}) = X$</code></li>
<li><code>$\mathbb{E}(\mathbb{E}(X|\mathcal{H})|\mathcal{G}) = \mathbb{E}(X|\mathcal{H})$</code></li>
<li><code>$\mathbb{E}(\mathbb{E}(X|\mathcal{G})|\mathcal{H}) = \mathbb{E}(X|\mathcal{H})$</code></li>
<li><code>$X\text{ is independent of }\mathcal{G} \Rightarrow\mathbb{E}(X|\mathcal{G}) = \mathbb{E}(X)$</code></li>
<li><code>$Y\text{ is }\mathcal{G}\text{-measurable }\Rightarrow \mathbb{E}(XY|\mathcal{G})=Y\mathbb{E}(X|\mathcal{G})$</code></li>
</ol>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Proof
    </summary></p>

<ol>
<li>Linearity, it can be easy to find by the linearity of integral.</li>

<li><p>With the fact that <code>$\Omega \in\mathcal{G}$</code> , one has <code>$\mathbb{E}(\mathbb{E}(X|\mathcal{G}))=\int_{\Omega} \mathbb{E}(X|\mathcal{G})\td \mathbb{P} = \int_{\Omega} X\td \mathbb{P} = \mathbb{E}(X)$</code></p></li>

<li><p>According to the definition of the conditional expectation, <code>$Z = \mathbb{E}(X|\mathcal{G})$</code> should be a <code>$\mathcal{G}$</code>-measurable random variable such that <code>$\forall A\in\mathcal{G}\Rightarrow \int_A Z\td \mathbb{P} = \int_A X\td \mathbb{P}$</code> . Obviously if we choose <code>$Z = X$</code> these two requirements above are automatically satisfied.</p></li>

<li><p>For <code>$\mathbb{E}(X|\mathcal{H})$</code> is <code>$\mathcal{H}$</code>-measurable, and <code>$\mathcal{H}\subset \mathcal{G}$</code> , so obviously <code>$\mathbb{E}(X|\mathcal{H})$</code> is <code>$\mathcal{G}$</code> measurable. Then according to 3 the property has been proved.</p></li>

<li><p>Denote <code>$Y = \mathbb{E}(X|\mathcal{G})$</code> , then by the definition, <code>$\forall A\in\mathcal{G}\Rightarrow \int_A Y\td \mathbb{P} = \int_A X\td \mathbb{P}$</code> , then let <code>$Z=\mathbb{E}(Y|\mathcal{H})$</code> , then <code>$\forall B\in \mathcal{H}\Rightarrow \int_B Z\td \mathbb{P} = \int_B Y\td \mathbb{P}$</code>. For <code>$\mathcal{H}\subset \mathcal{G}$</code> , so <code>$B\in \mathcal{H}\Rightarrow B\in\mathcal{G}$</code> , then we have <code>$\forall B\in \mathcal{H}\Rightarrow \int_B Y\td \mathbb{P} = \int_B X\td \mathbb{P}$</code> . That is to say, <code>$\forall B\in\mathcal{H}\Rightarrow \int_B Z\td \mathbb{P} = \int_B X\td \mathbb{P}$</code> . Meanwhile, <code>$Z$</code> is <code>$\mathcal{H}$</code>-measurable, so we can say <code>$Z = \mathbb{E}(\mathbb{E}(X|\mathcal{G})|\mathcal{H}) = \mathbb{E}(X|\mathcal{H})$</code></p></li>

<li><p>With random variable <code>$X$</code> we can define a sigma algebra <code>$\sigma(X)$</code> by subsets of <code>$\Omega$</code>: <code>$\{A\ : \ \{X(\omega) : \omega \in A\}\in \mathcal{B}(\mathbb{R})\}$</code> , <code>$\sigma(X)$</code> should be the smallest sigma algebra respect to which <code>$X$</code> is measurable. Then <code>$X$</code> is independent of <code>$\mathcal{G}$</code> means that <code>$\sigma(X)$</code> is independent of <code>$\mathcal{G}$</code> :</p>

<div>$$\forall A\in\sigma(X) \ , \ B\in\mathcal{G} \Rightarrow \mathbb{P}(A\cap B) = \mathbb{P}(A)\mathbb{P}(B)$$</div>

<p>So, <code>$\forall B\in\mathcal{G}$</code> , we choose the characteristic function on <code>$B$</code>: <code>$1_B$</code> , it is a <code>$\mathcal{H}$</code>-measurable random variable, then:</p>

<div>$$\int_B X \td \mathbb{P} = \mathbb{E}(X1_B) = \mathbb{E}(X)\mathbb{E}(1_B) = \mathbb{E}(X)\int_B \td \mathbb{P} = \int_B \mathbb{E}(X)\td \mathbb{P}$$</div>

<p>So <code>$\mathbb{E}(X|\mathcal{H})$</code> should be a constant function, it equals to <code>$\mathbb{E}(X)$</code>. i.e. <code>$\mathbb{E}(X|\mathcal{H}) = \mathbb{E}(X)$</code></p></li>

<li><p>It is not a simple theorem. Technically it is called &ldquo;Pulling out known factor&rdquo; property of conditional expectation. Here, we show a brief(hand-waving proof). For detail see: <a href="https://web.ma.utexas.edu/users/gordanz/notes/conditional_expectation.pdf">Properties of conditional_expectation</a>.</p>

<p>Consider the simplest case of <code>$Y = 1_B$</code> where <code>$B\in\mathcal{G}$</code> . So <code>$Y$</code> is <code>$\mathcal{G}$</code>-measurable. Then we have: <code>$1_B\mathbb{E}(Y|\mathcal{G})$</code> is <code>$\mathcal{G}$</code>-measurable, and for arbitrary <code>$A\in\mathcal{G}$</code> we have:</p>

<div>$$\int_A 1_B\mathbb{E}(Y|\mathcal{G})\td \mathbb{P} = \mathbb{E}\big(1_B \mathbb{E}(Y|\mathcal{G})1_A\big) = \mathbb{E}(\mathbb{E}(Y|\mathcal{G})1_{A\cap B}) = \mathbb{E}(Y 1_{A\cap B}) = \mathbb{E}(1_B Y 1_A) = \int_A 1_B Y\td \mathbb{P}$$</div>

<p>Where we used the property that <code>$A\cap B \in \mathcal{G}$</code>. Then <code>$\mathbb{E}(\mathbb{E}(Y|\mathcal{G}) 1_{A\cap B}) = \int_{A\cap B}\mathbb{E}(Y|\mathcal{G})\td \mathbb{P} = \int_{A\cap B} Y\td \mathbb{P} = \mathbb{E}(Y1_{A\cap B})$</code> . So <code>$\mathbb{E}(1_B Y |\mathcal{G}) = 1_B \mathbb{E}(Y|\mathcal{G})$</code>. For the simplest case the theorem hold.</p>

<p>Then with the linearity, for the simple random variable: <code>$Y = \sum_{i} y_i 1_{B_i}$</code> the theorem hold too. So there exists a sequence <code>$\{X_n\}$</code> of simple random variables such that <code>$X_n \rightarrow X -0^+$</code> . Then with the monotone convergence we can prove the theorem works for arbitrary positive random variables. The general case can always be proven by the method of decomposing random variable into positive part and negative part together with linearity.</p></li>
</ol>

<p></details></p>

<p><em>[Theorem]</em> : <strong>Conditional Jensen&rsquo;s inequality</strong> . Let <code>$X$</code> be a random variable such that <code>$\mathbb{E}(|X|) \lt \infty$</code> and <code>$\phi : \mathbb{R}\rightarrow \mathbb{R}$</code> is a <strong>convex function</strong> (<code>$\phi(\lambda x_1 + (1-\lambda) x_2) \leq \lambda \phi(x_1)+(1-\lambda)\phi(x_2) \ ; \ \lambda \in(0,1)$</code>) . And <code>$\mathbb{E}(|\phi(X)|)\lt \infty$</code> , then:</p>

<div>$$\mathbb{E}\Big(\phi(X)|\mathcal{G}\Big) \geq \phi\Big(\mathbb{E}(X|\mathcal{G})\Big)$$</div>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Proof
    </summary></p>

<p>The convex function can be write as the form of:</p>

<div>$$\phi(x) = \sup \{a_n + b_n x\}$$</div>

<p>Which can be understood in the way that convex function are always located at the region above its tangent line. So we need only to prove:</p>

<div>$$\mathbb{E}\big(\sup\{a_n + b_n X\}|\mathcal{G}\big) \geq \sup\{a_n + b_n \mathbb{E}(X|\mathcal{G})\} = \sup\{\mathbb{E}(a_n + b_n X|\mathcal{G})\}$$</div>

<p>Which can be seen by the monotonicity of conditional expectation: <code>$X \geq Y\Rightarrow \mathbb{E}(X|\mathcal{G}) \geq \mathbb{E}(Y|\mathcal{G})$</code> . So:</p>

<div>$$\mathbb{E}(\sup\{a_n + b_n X\}|\mathcal{G})\geq \mathbb{E}(a_n+b_n X|\mathcal{G})$$</div>

<p>for arbitrary <code>$a_n, b_n$</code> . So:</p>

<div>$$\mathbb{E}(\sup(a_n + b_n X)|\mathcal{G}) \geq \sup \{\mathbb{E}(a_n + b_n X|\mathcal{G})\}$$</div>

<p>with the definition of supremum.</p>

<p></details></p>

<p><em>[Definition]</em> : The <strong>Conditional expectation of <code>$X$</code> with respect of random variable <code>$Y$</code></strong> is defined as:</p>

<div>$$\mathbb{E}(X|Y) = \mathbb{E}(X|\sigma(Y))$$</div>

<p>Where <code>$\sigma(Y)$</code> is the sub-sigma algebra generated by <code>$Y$</code> : <code>$\sigma(Y) = \{Y^{-1}(B) : B \in\mathcal{B}(\mathbb{R})\}$</code></p>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Discrete valued condition
    </summary></p>

<p>We can check this definition is equivalent to the definition of conditional expectation in junior textbook with discrete valued <code>$Y$</code> .</p>

<p>In this case, the sample space can be decomposed as :</p>

<div>$$\Omega = \bigcup_j \Omega_j$$</div>

<p>Where <code>$\Omega_j = \{\omega : Y(\omega) = Y_j\}$</code> . And the <code>$\sigma(Y)$</code> is simply all possible union of <code>$\{\Omega_j\}$</code> . Then:</p>

<div>$$\int_{\Omega_j}\mathbb{E}(X|Y)\td \mathbb{P} = \int_{\Omega_j}X\td \mathbb{P}$$</div>

<p>The measurability of <code>$\mathbb{E}(X|Y)$</code> with respect to <code>$\sigma(Y)$</code> (<code>$\mathbb{E}(X|Y)$</code> has the same &ldquo;structure&rdquo; as <code>$Y$</code>, i.e., discrete valued.) means <code>$\mathbb{E}(X|Y)$</code> takes constant on each <code>$\Omega_j$</code> . So:</p>

<div>$$\mathbb{E}(X|Y=Y_j) = \frac 1 {\mathbb{P}(\Omega_j)} \int_{\Omega_j} X\td \mathbb{P}$$</div>

<p>Which is what we learned in junior textbook.</p>

<p></details></p>

<p><em>[Theorem]</em> : Let <code>$g(Y)$</code> be any measurable function of <code>$Y$</code>, then:</p>

<div>$$\mathbb{E}\big((X-\mathbb{E}(X|Y))^2\big) \leq \mathbb{E}\big((X-g(Y))^2\big)$$</div>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Proof
    </summary></p>

<p>We have:</p>

<div>$$\mathbb{E}\big((X-g(Y))^2\big) = \mathbb{E}\big((X-\mathbb{E}(X|Y))^2\big)+\mathbb{E}\big((\mathbb{E}(X|Y)-g(Y))^2\big)+2\mathbb{E}\big\{(X-\mathbb{E}(X|Y))(\mathbb{E}(X|Y)-g(Y))\big\}$$</div>

<p>And:</p>

<div>$$\begin{aligned}
\mathbb{E}\big\{(X-\mathbb{E}(X|Y))(\mathbb{E}(X|Y)-g(Y))\big\} &= \mathbb{E}\Big\{\mathbb{E}\big\{(X-\mathbb{E}(X|Y))(\mathbb{E}(X|Y)-g(Y))\big\}\Big|Y\Big\} \\
&=\mathbb{E}\Big\{(\mathbb{E}(X|Y)-g(Y))\mathbb{E}\big\{X-\mathbb{E}(X|Y)\big\}\Big|Y\Big\} \\
&=\mathbb{E}\Big\{(\mathbb{E}(X|Y)-g(Y))\big(\mathbb{E}(X|Y)-\mathbb{E}(X|Y)\big)\Big\} \\
&=0
\end{aligned}$$</div>

<p>q.e.d.</p>

<p></details></p>

<p>This theorem means that the conditional expectation is the optimal approximation of <code>$X$</code> in <code>$L^2$</code> norm among all of the <code>$Y$</code>-measurable functions. i.e. , if one needs to find a <code>$Y$</code>-measurable function as the approximation of <code>$X$</code> , the conditional expectation <code>$\mathbb{E}(X|Y)$</code> is the optimal choice. Where <code>$Y$</code>-measurable means <code>$\sigma(Y)$</code>-measurable.</p>

<h2 id="generation-of-random-variables">Generation of Random Variables</h2>

<p>The core of widely application of stochastic algorithms is the efficient method to generate random variables of given distribution. In this part we will show a classical way to generate uniformly distributed random variable, and how to generate other distribution from the uniform one.</p>

<h3 id="linear-congruential-generator-lcg">Linear Congruential Generator(LCG)</h3>

<p>LCG is the most commonly used <strong>Pseudo-Random Number Generator(PRNG)</strong> for uniformly distribution : <code>$\mathcal{U}([0,1])$</code> . It has the following simple form:</p>

<div>$$X_{n+1} = (aX_n + b) \mod m$$</div>

<p>Where <code>$a,b,m$</code> are chosen natural numbers beforehand and <code>$X_0$</code> is the seed. The obtained sequence <code>$X_n/m$</code> is the desired pseudo-random number satisfies <code>$\mathcal{U}([0,1])$</code> .</p>

<p>The <code>period</code> for a typical sequence produced by this recursion formula is controlled by the following theorem:</p>

<p><em>[Theorem]</em> : The period of a LCG is <code>$m$</code> if and only if:</p>

<ol>
<li><code>$b$</code> and <code>$m$</code> are relatively prime.</li>
<li>every prime factor of <code>$m$</code> divides <code>$a-1$</code></li>
<li>if <code>$m|4$</code> then <code>$(a-1)|4$</code></li>
</ol>

<p>For detail see: <a href="https://www.amazon.com/Art-Computer-Programming-Seminumerical-Algorithms/dp/0201896842">D.E. Knuth. The Art of Computer Programming, vol 2</a></p>

<p>There is also a so-called <strong>Minimal Standard Generator</strong> which is a special case of LCG of <code>$b=0$</code> , which is discussed in 1969 by Lewis, Goodman and Miller. Where <code>$a=7^5=16807 , m=2^{31}-1$</code>.</p>

<p>More general LCG takes the following form:</p>

<div>$$X_{n+1}=(a_0 X_n + a_1 X_{n-1}+\cdots + a_j X_{n-j} + b) \mod m$$</div>

<p>Whose period can not proceed <code>$m^{j+1}-1$</code>.</p>

<p>One important fact about the LCG is that it shows very poor distributions of <code>$s$</code>-tuples:</p>

<p><em>[Theorem]</em> : The <code>$s$</code>-tuples <code>$(X_n,X_{n+1},\cdots,X_{n+s-1})$</code> obtained via simple LCG(a,b,m) lie on a maximum of <code>$(s!m)^{1/s}$</code> equidistant parallel hyperplanes within the <code>$s$</code>-dimensional hypercube <code>$(0,1)^{\otimes s}$</code></p>

<p>Which is proven by Marsaglia in <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC285899/">Marsaglia 1968</a>. One can see when <code>$s$</code> is large, the deviation with respect to the uniform distribution is apparent.</p>

<h3 id="inverse-transformation-method">Inverse Transformation Method</h3>

<p>The general random variables <code>$Y\in \mathbb{R}$</code> can be generated from <code>$\mathcal{U}([0,1])$</code> in principle based on the following theorem:</p>

<p><em>[Theorem]</em> : (Inverse Transformation Method) . Suppose the distribution function of <code>$Y$</code> is <code>$F(y)$</code> , i.e. <code>$\mathbb{P}(Y\leq y) = F(y)$</code> , which is strictly increasing. <code>$X \sim \mathcal{U}([0,1])$</code> then: <code>$F^{-1}(X)$</code> is the desired random variable.</p>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Proof
    </summary></p>

<p>If <code>$F(y)$</code> is strictly increasing, consider the <code>$\hat Y = F^{-1}(X)$</code> we have:</p>

<div>$$\mathbb{P}(\hat Y\leq y) = \mathbb{P}(F^{-1}(X)\leq y) = \mathbb{P}(X\leq F(y)) = F(y)$$</div>

<p>So <code>$\hat Y$</code> and <code>$Y$</code> have the same distribution.</p>

<p>When <code>$F(y)$</code> is only non-decreasing, like there are some parts on <code>$\mathbb{R}$</code> have zero probability. Then we can define the generalized inverse <code>$F^{-1}$</code> as:</p>

<div>$$F^{-1}(u) = \inf \{x: F(x)\geq u\}$$</div>

<p>Then we have:</p>

<div>$$F(F^{-1}(u)) \geq u \ ; \ F^{-1}(F(x)) \leq x$$</div>

<p>So: <code>$\{(u,x) : F^{-1}(u)\leq x\} = \{(u,x) : F(x)\geq u\}$</code>. And:</p>

<div>$$\mathbb{P}(F^{-1}(X) \leq y) = \mathbb{P}(X \leq F(y)) = F(y)$$</div>

<p>q.e.d.</p>

<p></details></p>

<h3 id="box-muller-method-for-gaussian-random-variables">Box-Muller method for Gaussian Random Variables</h3>

<p>The core is the identity of the variable substitution:</p>

<div>$$\frac 1 {2\pi} e^{-\frac {x_1^2+x_2^2} 2} \td x_1 \td x_2 = \frac {\td \theta} {2\pi} \cdot e^{-r^2/r} r\td r$$</div>

<p>So , <code>$\td \theta/2\pi$</code> is the unit of <code>$\mathcal{U}([0,2\pi])$</code> , and <code>$e^{-r^2/2}r\td r$</code> corresponds to the distribution of <code>$F(r) = 1-e^{-r^2/2}$</code> . So the Gaussian Random Variable can be generated with the following manner:</p>

<div>$$Z = R \cos \Theta \ ; \ R=\sqrt{-2\log X} , \Theta = 2\pi Y \ X,Y\sim \mathcal{U}([0,1])$$</div>

<h3 id="acceptance-rejection-method">Acceptance-Rejection Method</h3>

<p>This is another general methodology to sample arbitrary Random Variables. To generate random variables with density <code>$0\leq p(x)\leq d$</code> and <code>$a\leq x\leq b$</code>, the algorithm is:</p>

<p><em>[Algorithm]</em> : To generate <code>$X$</code> of density <code>$p(x)$</code>:
1.  Generate <code>$X_i \sim \mathcal{U}([a,b])$</code>
2.  Generate a decision-making <code>$Y_i \sim \mathcal{U}([0,d])$</code>
3.  If <code>$0\leq Y_i\leq p(X_i)$</code> , accept <code>$X_i$</code>; otherwise, reject
4.  Back to step 1.</p>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Proof
    </summary></p>

<p>The procedure generates a uniformly distribution on <code>$A=\{(x,y):x\in[a,b], y\in[0,p(x)]\}$</code> . So the <code>$X$</code>-marginal distribution</p>

<div>$$\hat p(x) = \int_0^{p(x)}1 \td y = p(x)$$</div>

<p>q.e.d.</p>

<p></details></p>

<p>For the unbounded random variables, we should introduce more comparison functions. The algorithm is:</p>

<p><em>[Algorithm]</em> : Generate the unbounded <code>$X\sim p(x)$</code>:</p>

<ol>
<li>Generate <code>$X_i = F^{-1}(A Z_i)$</code> where <code>$Z_i \sim \mathcal{U}([0,1])$</code></li>
<li>Generate decision-making <code>$Y_i \sim\mathcal{U}([0,f(X_i)])$</code></li>
<li>If <code>$0\leq Y_i \leq p (X_i)$</code> , accept <code>$X_i$</code>; otherwise reject.</li>
<li>Back to Step 1.</li>
</ol>

<p>Where <code>$f(x)$</code> is a curve which lies everywhere above the density <code>$p(x)$</code>, and <code>$A = \int_{-\infty}^{\infty} f(x)\td x$</code> , <code>$F(x) = \int_{-\infty}^x f(x)\td x$</code></p>

<p><details>
    <summary style="background-color:#f5f5f5;border:1px solid #ccc;padding:5px;">
        Proof
    </summary></p>

<p>The probability of <code>$X_i$</code> lies in interval <code>$[x,x+\td x]$</code> is:</p>

<div>$$\mathbb{P}(X_i\in[x,x+\td x]) = \mathbb{P}(Z_i \in [\frac {F(x)} A , \frac {F(x+\td x)} {A}])\mathbb{P}(\text{accept}) = \frac 1 A f(x)\td x \cdot \frac {p(x)} {f(x)} = \frac 1 A  p(x)\td x$$</div>

<p>q.e.d.</p>

<p></details></p>

          </div>

          
          <div class="row">
            <div class="col-md-8">
            
              <div class="mb-5">
                
<div class="li-x div-x post-meta">
  <li class="pr-0"><a href="https://wzdlc1996.github.io/tags/"><i class="fas fa-tags"></i></a></li>
  <div class="tags-sm">
    
      <li><a href="https://wzdlc1996.github.io/tags/math" role="button">math </a></li>
      
    
  </div>
</div>
              </div>
            
            </div>
            
          </div>
          

          
          <div class="row pt-3">
            <div class="col-md-6">
              
                <a href=https://wzdlc1996.github.io/notes/qm/manybody3/ class="post-meta">Previous
                  <div class="pt-2 pb-5 d-flex">
                    <i class="fas fa-angle-left text-grey font-weight-bold mr-2 active-color"></i>
                    <span>Manybody: Functional Integral Formalism</span>
                  </div>
                </a>
              
            </div>
            
            <div class="col-md-6 text-right" >
              
            </div>
          </div>

          

        </div>
        

      </div>
      

      
	
	
	
	
		
		
		
	

		
		<div class="col-md-2 pl-0">

			
			<div id="page-scrollspy" class="toc-nav">
				
				<ul class="nav nav-pills ml-0">
					
					<li class="nav-item pb-3 text-center">
						<span class="font-weight-bold mb-2">- CATALOG - </span>
					</li>

					
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#random-variable">
												 Random Variable
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#introduction-to-probability-theory">
												 Introduction to Probability Theory
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#probability-space">
												 Probability Space
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#notions-of-convergence">
												 Notions of Convergence
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#conditional-expectation">
												 Conditional Expectation
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#generation-of-random-variables">
												 Generation of Random Variables
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#linear-congruential-generator-lcg">
												 Linear Congruential Generator(LCG)
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#inverse-transformation-method">
												 Inverse Transformation Method
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#box-muller-method-for-gaussian-random-variables">
												 Box-Muller method for Gaussian Random Variables
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#acceptance-rejection-method">
												 Acceptance-Rejection Method
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 

				</ul>
			</div>
			

		</div>
		
	

    </div>
    


  </main>
  



    

<footer class="page-footer text-center font-small mt-4 wow fadeIn">


  
  <div class="pb-2 mt-5 pt-5">
    
      <a href="http://github.com/wzdlc1996 " target="_blank" rel="noopener"><i class="fab fa-github mr-3" aria-hidden="true"></i></a>
    
    

    

    

    

    

    


    
        <a href="mailto:wzdlc1996@gmail.com"><i class="far fa-envelope-open mr-3" aria-hidden="true"></i></a>
    

    

    

  </div>
  

  
  <div class="copyright py-4">
    
    <span>  2016 - 2019 &copy; | Theme <a href='https://github.com/orianna-zzo/AllinOne' target="_blank">AllinOne</a> by <a href='https://github.com/orianna-zzo' target="_blank">Orianna</a>  </span>
  </div>
  




</footer>


<script>
  MathJax.Hub.Queue(function() {
      
      
      
      var all = MathJax.Hub.getAllJax(), i;
      for(i = 0; i < all.length; i += 1){
          all[i].SourceElement().parentNode.className += 'has-jax';
      }}
  );
</script>

    






<script type="text/javascript" src="https://wzdlc1996.github.io/js/vendors/jquery/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="https://wzdlc1996.github.io/js/vendors/jquery/jquery.smooth-scroll.min.js"></script>



<script type="text/javascript" src="https://wzdlc1996.github.io/js/vendors/popper.min.js"></script>
<script type="text/javascript" src="https://wzdlc1996.github.io/js/vendors/holder.min.js"></script>
<script type="text/javascript" src="https://wzdlc1996.github.io/js/vendors-extensions/bootstrap4/bootstrap.js" ></script>

<script type="text/javascript" src="https://wzdlc1996.github.io/js/vendors/mdb/mdb.min.js"></script>

<script type="text/javascript" src="https://wzdlc1996.github.io/js/main.js"></script>



  
  <script src="https://wzdlc1996.github.io/js/vendors/highlight.pack.js"> </script>
  <script>hljs.initHighlightingOnLoad();</script>












<script type="text/javascript">
  
  new WOW().init();
</script>




  </body>
</html>
